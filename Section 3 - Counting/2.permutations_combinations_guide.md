# Complete Guide to Permutations and Combinations

## 6.3.1 Introduction

Counting problems generally fall into two main categories:
1. **Order matters** - Finding arrangements where the sequence is important
2. **Order doesn't matter** - Finding selections where the sequence is irrelevant

**Key Questions:**
- How many ways can we select three students from five to stand in line? (Order matters)
- How many different committees of three can be formed from four students? (Order doesn't matter)

---

## 6.3.2 Permutations

### Definition
- **Permutation**: An ordered arrangement of distinct objects
- **r-permutation**: An ordered arrangement of r elements from a set

### Notation
- **P(n,r)**: Number of r-permutations of a set with n elements

### Example 1: Student Line Arrangements
**Problem:** 
- Part A: Select 3 students from 5 to stand in line
- Part B: Arrange all 5 students in line

**Solution:**
- **Part A:** Order matters since positions in line are different
  - 1st position: 5 choices
  - 2nd position: 4 choices (one already selected)
  - 3rd position: 3 choices (two already selected)
  - Total: 5 × 4 × 3 = 60 ways

- **Part B:** Arrange all 5 students
  - 1st: 5 choices, 2nd: 4 choices, 3rd: 3 choices, 4th: 2 choices, 5th: 1 choice
  - Total: 5 × 4 × 3 × 2 × 1 = 5! = 120 ways

### Example 2: Basic Permutation Concept
**Given:** S = {1, 2, 3}
- **Permutation of S:** 3, 1, 2 (uses all elements)
- **2-permutation of S:** 3, 2 (uses 2 elements in order)

### Example 3: Computing P(3,2)
**Given:** S = {a, b, c}
**Find:** All 2-permutations

**All 2-permutations:**
- Starting with a: a,b and a,c
- Starting with b: b,a and b,c  
- Starting with c: c,a and c,b

**Total:** 6 arrangements

**Using formula:** P(3,2) = 3 × 2 = 6 ✓

---

### Theorem 1: Permutation Formula
**If n is positive and 1 ≤ r ≤ n:**
```
P(n,r) = n(n-1)(n-2)...(n-r+1)
```

**Proof Logic:**
- 1st element: n choices
- 2nd element: (n-1) choices
- 3rd element: (n-2) choices
- ...
- rth element: (n-r+1) choices

**Special Case:** P(n,0) = 1 (empty arrangement)

### Corollary 1: Factorial Formula
```
P(n,r) = n!/(n-r)!
```

**Proof:**
- P(n,r) = n(n-1)...(n-r+1)
- Multiply by (n-r)!/(n-r)! = 1
- Result: n!/(n-r)!

---

### Example 4: Contest Prize Winners
**Problem:** Select 1st, 2nd, and 3rd prize winners from 100 people

**Solution:**
- This is a 3-permutation of 100 elements (order matters for prizes)
- P(100,3) = 100 × 99 × 98 = 970,200 ways

### Example 5: Race Medal Awards
**Problem:** 8 runners, award gold, silver, bronze medals

**Solution:**
- Need 3-permutation of 8 elements
- P(8,3) = 8 × 7 × 6 = 336 ways

### Example 6: Saleswoman City Tour
**Problem:** Visit 8 cities, starting city fixed, order others

**Solution:**
- First city determined, arrange remaining 7
- Number of arrangements = 7! = 5,040 ways
- **Practical note:** For shortest path problem, must check all 5,040 possibilities!

### Example 7: Permutations with Restrictions
**Problem:** Permutations of ABCDEFGH containing ABC as a block

**Solution:**
- Treat ABC as single unit
- Objects to arrange: {ABC, D, E, F, G, H} = 6 objects
- Arrangements = 6! = 720 ways

---

## 6.3.3 Combinations

### Definition
- **r-combination**: Unordered selection of r elements from a set
- **Equivalent to**: A subset with r elements

### Notation
- **C(n,r)**: Number of r-combinations from n elements
- **Alternative notation**: (n choose r) or binomial coefficient

### Example 8: Student Committee
**Problem:** Form 3-student committee from 4 students

**Solution:**
- Selecting 3 from 4 = leaving out 1 from 4
- 4 ways to choose which student to exclude
- Therefore: 4 ways to form the committee

### Example 9: Basic Combination Concept
**Given:** S = {1, 2, 3, 4}
- **3-combination:** {1, 3, 4}
- **Note:** {4, 1, 3} is the same combination (order doesn't matter)

### Example 10: Computing C(4,2)
**Given:** Set {a, b, c, d}
**All 2-combinations:**
- {a,b}, {a,c}, {a,d}, {b,c}, {b,d}, {c,d}
- **Total:** C(4,2) = 6

---

### Theorem 2: Combination Formula
```
C(n,r) = n! / [r!(n-r)!]
```

**Proof Logic:**
- P(n,r) r-permutations can be formed by:
  1. First choosing C(n,r) r-combinations
  2. Then arranging each combination in P(r,r) = r! ways
- Therefore: P(n,r) = C(n,r) × r!
- Solving: C(n,r) = P(n,r)/r! = n!/[r!(n-r)!]

**Computational Tip:**
```
C(n,r) = [n(n-1)...(n-r+1)] / r!
```
Cancel larger factorial, then divide by smaller factorial.

---

### Example 11: Poker Hands and Large Combinations
**Problem A:** 5-card poker hands from 52-card deck
**Problem B:** Select 47 cards from 52

**Solution A:**
```
C(52,5) = 52!/(5!×47!) = (52×51×50×49×48)/(5×4×3×2×1)
```

**Step-by-step simplification:**
- 50÷5 = 10, 48÷4 = 12, 51÷3 = 17, 52÷2 = 26
- C(52,5) = 26×17×10×49×12 = 2,598,960

**Solution B:**
- C(52,47) = 52!/(47!×5!) = C(52,5) = 2,598,960
- **Key insight:** Selecting 47 to keep = selecting 5 to discard

### Corollary 2: Symmetry Identity
```
C(n,r) = C(n,n-r)
```

**Combinatorial Proof (Bijective):**
- Every r-element subset corresponds to exactly one (n-r)-element complement
- This creates a one-to-one correspondence (bijection)
- Therefore, counts are equal

**Alternative Proof (Double Counting):**
- Selecting r elements = specifying which (n-r) elements to exclude
- Same set counted two different ways

---

### Example 12: Tennis Team Selection
**Problem:** Select 5 players from 10-member team

**Solution:**
```
C(10,5) = 10!/(5!×5!) = (10×9×8×7×6)/(5×4×3×2×1) = 252 ways
```

### Example 13: Mars Mission Crew
**Problem:** Select 6 astronauts from 30 trained people

**Solution:**
```
C(30,6) = 30!/(6!×24!) = (30×29×28×27×26×25)/(6×5×4×3×2×1) = 593,775 ways
```

### Example 14: Bit Strings with Exactly r Ones
**Problem:** n-length bit strings with exactly r ones

**Solution:**
- Choose r positions out of n for the 1s
- Remaining (n-r) positions automatically get 0s
- Answer: C(n,r)

### Example 15: Multi-Department Committee
**Problem:** Committee with 3 math faculty (from 9) and 4 CS faculty (from 11)

**Solution:**
- **Math selection:** C(9,3) ways
- **CS selection:** C(11,4) ways
- **By product rule:** C(9,3) × C(11,4)

**Calculation:**
```
C(9,3) = 9!/(3!×6!) = (9×8×7)/(3×2×1) = 84
C(11,4) = 11!/(4!×7!) = (11×10×9×8)/(4×3×2×1) = 330
Total = 84 × 330 = 27,720 ways
```

---

## Key Formulas Summary

### Permutations (Order Matters)
- **P(n,r) = n!/(n-r)!**
- **P(n,r) = n(n-1)(n-2)...(n-r+1)**
- **P(n,n) = n!**

### Combinations (Order Doesn't Matter)
- **C(n,r) = n!/[r!(n-r)!]**
- **C(n,r) = C(n,n-r)** (symmetry)
- **C(n,r) = [n(n-1)...(n-r+1)]/r!** (computational form)

## When to Use Which?

| Scenario | Use | Reason |
|----------|-----|---------|
| Arranging objects in line | Permutation | Position matters |
| Selecting prize winners | Permutation | Rank/order matters |
| Forming committees | Combination | Just membership matters |
| Choosing subsets | Combination | Order irrelevant |
| Arranging letters/digits | Permutation | Sequence important |